{"ast":null,"code":"import _regeneratorRuntime from \"/Users/Pravin/Study/nikhil/react/sample-app-web/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/Pravin/Study/nikhil/react/sample-app-web/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/Pravin/Study/nikhil/react/sample-app-web/node_modules/next/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/Pravin/Study/nikhil/react/sample-app-web/node_modules/next/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/Users/Pravin/Study/nikhil/react/sample-app-web/node_modules/next/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/Pravin/Study/nikhil/react/sample-app-web/node_modules/next/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/Pravin/Study/nikhil/react/sample-app-web/node_modules/next/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/Pravin/Study/nikhil/react/sample-app-web/node_modules/next/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"/Users/Pravin/Study/nikhil/react/sample-app-web/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport { notification } from 'antd';\nimport { Formik, Form, Field } from 'formik';\nimport { LocalStream } from '@100mslive/hmsvideo-web';\nimport { updateInputDevices, SingleSelect, closeMediaStream, attachMediaStream, getRequest, deviceSupport, getUserMedia, getPermissionStatus } from '../utils';\nimport SoundMeter from './Settings/soundmeter';\nimport ArrowLeftIcon from 'mdi-react/ArrowLeftIcon';\nimport { ROLES } from '../constants';\nimport LoginTextField from './LoginTextField';\n\nvar LoginForm = /*#__PURE__*/function (_React$Component) {\n  _inherits(LoginForm, _React$Component);\n\n  var _super = _createSuper(LoginForm);\n\n  function LoginForm(props) {\n    var _this;\n\n    _classCallCheck(this, LoginForm);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"componentDidMount\", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var handleLogin, formStage;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              console.log(\"%c[APP] Role=\".concat(_this.props.loginInfo.role));\n\n              _this.setState({\n                isSupported: deviceSupport().supported\n              });\n\n              _context.next = 4;\n              return _this.updatePermission();\n\n            case 4:\n              console.log({\n                permissionGranted: _this.state.permissionGranted\n              }); //const { form } = this.props;\n\n              console.log('window.location:' + window.location);\n              console.log('url:' + window.location.protocol + window.location.host + '  ' + window.location.pathname + window.location.query); // if (!this.props.settings.codec) {\n              //   this.props.setSettings({\n              //     selectedAudioDevice: '',\n              //     selectedVideoDevice: '',\n              //     // selectedAudioOutputDevice: \"\",\n              //     resolution: 'qvga',\n              //     bandwidth: 256,\n              //     codec: 'vp8',\n              //     isDevMode: true,\n              //   });\n              // }\n\n              if (!(_this.props.loginInfo.role === ROLES.LIVE_RECORD && _this.props.loginInfo.roomId !== '')) {\n                _context.next = 13;\n                break;\n              }\n\n              console.log(\"%c[APP] Skipping audio & video permission promt for the live-record bot\", 'color: blue');\n              handleLogin = _this.props.handleLogin;\n\n              _this.props.setLoginInfo({\n                displayName: null,\n                role: ROLES.LIVE_RECORD\n              });\n\n              handleLogin();\n              return _context.abrupt(\"return\");\n\n            case 13:\n              // ToDo: Show a confirmation dialog for ROLES.VIEWER\n              _this.setState({\n                permissionText: 'We will need your permission to use your webcam and microphone.'\n              });\n\n              if (getRequest() && getRequest().hasOwnProperty('room') && _this.props.loginInfo.displayName !== '' && _this.props.loginInfo.roomId !== '' && _this.props.loginInfo.env !== '') {\n                if (_this.state.permissionGranted) {\n                  console.log('Showing preview');\n\n                  _this.startPreview(true);\n                } else {\n                  _this.setState({\n                    formStage: 'PERMISSION'\n                  });\n                }\n              } else {\n                formStage = 'ROOM';\n                console.log(\"[FormStage: \".concat(formStage, \"]\"));\n\n                if (_this.props.loginInfo.roomId != '') {\n                  formStage = 'JOIN_ROOM';\n                }\n\n                _this.setState({\n                  formStage: formStage\n                });\n              }\n\n            case 15:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    })));\n\n    _defineProperty(_assertThisInitialized(_this), \"componentWillUnmount\", function () {\n      _this._cleanup();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_notification\", function (message, description) {\n      var type = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'info';\n\n      if (type == 'info') {\n        notification.info({\n          message: message,\n          description: description,\n          placement: 'bottomRight'\n        });\n      } else if (type == 'error') {\n        notification.error({\n          message: message,\n          description: description,\n          placement: 'bottomRight'\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_stopMediaStream\", /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(stream) {\n        var tracks, i, len;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                tracks = stream.getTracks();\n                i = 0, len = tracks.length;\n\n              case 2:\n                if (!(i < len)) {\n                  _context2.next = 8;\n                  break;\n                }\n\n                _context2.next = 5;\n                return tracks[i].stop();\n\n              case 5:\n                i++;\n                _context2.next = 2;\n                break;\n\n              case 8:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      return function (_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(_assertThisInitialized(_this), \"_cleanup\", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              if (!_this.stream) {\n                _context3.next = 5;\n                break;\n              }\n\n              _context3.next = 3;\n              return _this._stopMediaStream(_this.stream);\n\n            case 3:\n              _context3.next = 5;\n              return _this.client.unpublish(_this.stream, _this.client.rid);\n\n            case 5:\n              if (!_this.client) {\n                _context3.next = 8;\n                break;\n              }\n\n              _context3.next = 8;\n              return _this.client.leave();\n\n            case 8:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    })));\n\n    _defineProperty(_assertThisInitialized(_this), \"updateDeviceList\", function (callback) {\n      updateInputDevices().then(function (data) {\n        if (_this.props.settings.selectedAudioDevice === '' && data.audioDevices.length > 0) {\n          _this.props.setSettings({\n            selectedAudioDevice: data.audioDevices[0].deviceId\n          });\n        }\n\n        if (_this.props.settings.selectedVideoDevice === '' && data.videoDevices.length > 0) {\n          _this.props.setSettings({\n            selectedVideoDevice: data.videoDevices[0].deviceId\n          });\n        } // if (\n        //   this.state.settings.selectedAudioOutputDevice === \"\" &&\n        //   data.audioOutputDevices.length > 0\n        // ) {\n        //   console.log(\"setting output device\")\n        //   this.state.settings.selectedAudioOutputDevice =\n        //     data.audioOutputDevices[0].deviceId\n        // }\n\n\n        _this.setState({\n          videoDevices: data.videoDevices,\n          audioDevices: data.audioDevices,\n          audioOutputDevices: data.audioOutputDevices\n        });\n\n        if (callback) {\n          callback();\n        }\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleCreateSubmit\", /*#__PURE__*/function () {\n      var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(values) {\n        var endpoint, response, data, roomEntry;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                endpoint = process.env.NEXT_PUBLIC_CREATE_ROOM_ENDPOINT || '/api/room';\n                console.log('endpoint', endpoint);\n                console.log('Create Room values: ', values);\n                _context4.next = 5;\n                return fetch(endpoint, {\n                  method: 'POST',\n                  body: JSON.stringify({\n                    room_name: values.roomName,\n                    recording_info: {\n                      enabled: values.isRecording\n                    },\n                    env: values.env\n                  })\n                })[\"catch\"](function (err) {\n                  console.log('Error', err);\n                });\n\n              case 5:\n                response = _context4.sent;\n                console.log('Response: ', response);\n\n                if (!(response.status != 200)) {\n                  _context4.next = 14;\n                  break;\n                }\n\n                _context4.next = 10;\n                return response.json();\n\n              case 10:\n                data = _context4.sent;\n\n                _this._notification('Error', data.message, 'error');\n\n                _context4.next = 21;\n                break;\n\n              case 14:\n                _context4.next = 16;\n                return response.json();\n\n              case 16:\n                roomEntry = _context4.sent;\n                console.log('response:', roomEntry);\n                values.roomId = roomEntry.id;\n\n                _this._notification('Room Created', \"Room Id: \".concat(values.roomId, \" Room Name: \").concat(values.roomName));\n\n                _this.handleNameSubmit(values);\n\n              case 21:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      return function (_x2) {\n        return _ref4.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(_assertThisInitialized(_this), \"handleJoinSubmit\", function (values) {\n      // TODO: How to get roomName from roomId\n      _this.handleNameSubmit(values);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleNameSubmit\", function (values) {\n      console.log(_this.state.permissionGranted);\n\n      _this.props.setLoginInfo({\n        roomId: values.roomId\n      });\n\n      if (values.roomName) {\n        _this.props.setLoginInfo({\n          roomName: values.roomName\n        });\n      }\n\n      if (values.role) {\n        _this.props.setLoginInfo({\n          role: values.role\n        });\n      }\n\n      if (values.env) {\n        _this.props.setLoginInfo({\n          env: values.env\n        });\n      }\n\n      if (values.displayName) {\n        _this.props.setLoginInfo({\n          displayName: values.displayName\n        });\n      }\n\n      if (_this.props.loginInfo.role === ROLES.VIEWER) {\n        _this.props.handleLogin();\n      } else if (_this.state.permissionGranted) {\n        console.log('Showing preview');\n\n        _this.startPreview(true);\n      } else {\n        _this.setState({\n          formValues: values,\n          formStage: 'PERMISSION'\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleSubmit\", function (values) {\n      var handleLogin = _this.props.handleLogin;\n      console.log('Values in handleSubmit: ', values);\n      console.log('this.props.loginInfo.roomId in handleSubmit: ', _this.props.loginInfo.roomId);\n      if (values.role) _this.props.setLoginInfo({\n        role: values.role\n      });\n      if (_this.state.formValues) _this.props.setLoginInfo({\n        displayName: _this.state.formValues.displayName || localStorage.getItem('loginInfo.displayName') || '',\n        roomName: _this.state.formValues.roomName,\n        env: _this.state.formValues.env\n      });\n      handleLogin();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updatePermission\", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.next = 2;\n              return getPermissionStatus().then(function (permission) {\n                if (permission) {\n                  _this.setState({\n                    permissionGranted: true\n                  });\n                } else {\n                  _this.setState({\n                    permissionGranted: false\n                  });\n                }\n              })[\"catch\"](function (error) {\n                console.log({\n                  permissionError: error\n                });\n\n                _this.setState({\n                  permissionGranted: false\n                });\n              });\n\n            case 2:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    })));\n\n    _defineProperty(_assertThisInitialized(_this), \"soundMeterProcess\", function () {\n      var val = window.soundMeter.instant.toFixed(2) * 700 + 1;\n\n      _this.setState({\n        audioLevel: val\n      }); //      if (this.state.visible)\n\n\n      setTimeout(_this.soundMeterProcess, 100);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"startPreview\", function () {\n      var permissionTestMode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      closeMediaStream(window.stream);\n      var audioSource = _this.props.settings.selectedAudioDevice;\n      var videoSource = _this.props.settings.selectedVideoDevice;\n      var videoElement, soundMeterProcess;\n\n      if (!permissionTestMode) {\n        videoElement = document.getElementById('previewVideo'); // this.soundMeter = window.soundMeter = new SoundMeter(window.audioContext);\n        // soundMeterProcess = this.soundMeterProcess;\n      }\n\n      var constraints = {\n        audio: !_this.props.roomState.localAudioEnabled ? true : {\n          deviceId: audioSource ? {\n            exact: audioSource\n          } : undefined\n        },\n        video: !_this.props.roomState.localVideoEnabled ? true : {\n          deviceId: videoSource ? {\n            exact: videoSource\n          } : undefined\n        }\n      };\n      getUserMedia(constraints).then(function (stream) {\n        if (!permissionTestMode) {\n          window.stream = stream; // make stream available to console\n          //videoElement.srcObject = stream;\n\n          attachMediaStream(videoElement, stream); //TODO this throws an error when audio only is chosen. Handle it\n          // if (this.props.roomState.localAudioEnabled) {\n          //   soundMeter.connectToSource(stream);\n          //   setTimeout(soundMeterProcess, 100);\n          // }\n        }\n\n        return navigator.mediaDevices.enumerateDevices(); // Refresh button list in case labels have become available\n      }).then(function (devices) {\n        //TODO combine with updateInputDevices\n        var videoDevices = [];\n        var audioDevices = [];\n        var audioOutputDevices = [];\n\n        var _iterator = _createForOfIteratorHelper(devices),\n            _step;\n\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var device = _step.value;\n\n            if (device.kind === 'videoinput') {\n              videoDevices.push(device);\n            } else if (device.kind === 'audioinput') {\n              audioDevices.push(device);\n            } else if (device.kind === 'audiooutput') {\n              audioOutputDevices.push(device);\n            }\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n\n        var data = {\n          videoDevices: videoDevices,\n          audioDevices: audioDevices,\n          audioOutputDevices: audioOutputDevices\n        };\n\n        if (_this.props.settings.selectedAudioDevice === '' && data.audioDevices.length > 0) {\n          _this.props.setSettings({\n            selectedAudioDevice: data.audioDevices[0].deviceId\n          });\n        }\n\n        if (_this.props.settings.selectedVideoDevice === '' && data.videoDevices.length > 0) {\n          _this.props.setSettings({\n            selectedVideoDevice: data.videoDevices[0].deviceId\n          });\n        }\n\n        _this.setState({\n          audioDevices: data.audioDevices,\n          videoDevices: data.videoDevices,\n          permissionGranted: true,\n          formStage: 'PREVIEW'\n        });\n      })[\"catch\"](function (error) {\n        //TODO - look for only permission error. Rest of the errors should be handled\n        _this.props.setLocalStreamError(error);\n\n        _this.setState({\n          permissionGranted: false,\n          permissionText: \"You won't be able to access the meeting unless you grant camera and mic permissions\"\n        });\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updateDevice\", function (name, value) {\n      _this.props.setSettings(_defineProperty({}, name, value), function () {\n        _this.startPreview(false);\n      });\n    });\n\n    _this.state = {\n      formStage: 'ROOM',\n      permissionGranted: false,\n      isSupported: deviceSupport().supported\n    };\n    var role = '';\n    var roomId = '';\n    var env = process.env.NEXT_PUBLIC_SFU_ENV || 'prod-in';\n    var displayName = localStorage.getItem('loginInfo.displayName') || props.loginInfo.displayName || '';\n\n    if (getRequest() && getRequest().hasOwnProperty('role')) {\n      role = getRequest().role;\n    }\n\n    if (getRequest() && getRequest().hasOwnProperty('room')) {\n      roomId = getRequest().room;\n    }\n\n    if (getRequest() && getRequest().hasOwnProperty('env')) {\n      env = getRequest().env;\n    }\n\n    _this.props.setLoginInfo({\n      role: role,\n      roomId: roomId,\n      env: env,\n      displayName: displayName\n    });\n\n    return _this;\n  }\n\n  _createClass(LoginForm, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if ((prevState.formStage || this.state.formStage) && prevState.formStage !== this.state.formStage) {\n        if (this.state.formStage === 'PREVIEW') {\n          this.startPreview(false); //console.log(\"Start preview called from state change componentDidUpdate preview check\")\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      console.log(this.state.formStage);\n      var showEnv = !Boolean(process.env.NEXT_PUBLIC_SFU_ENV);\n      var showRoleSelect = Boolean(process.env.NEXT_PUBLIC_SFU_ENV);\n      return __jsx(React.Fragment, null, this.state.isSupported && __jsx(\"div\", {\n        className: \"relative z-0\"\n      }, this.state.formStage && this.state.formStage === 'ROOM' && __jsx(React.Fragment, null, __jsx(\"div\", {\n        className: \" flex items-center justify-center w-full px-4 sm:px-6 lg:px-8\",\n        style: {\n          backgroundColor: '#1a1619',\n          minHeight: 'calc(100vh - 64px)'\n        }\n      }, __jsx(\"div\", {\n        className: \"overflow-hidden justify-right items-right shadow rounded-lg max-w-sm w-full px-4 py-5 p-6 bg-gray-100\"\n      }, __jsx(\"h2\", {\n        className: \"mt-6 text-center text-3xl leading-9 font-extrabold text-gray-900 mb-2\"\n      }, \"100ms Conference\"), __jsx(\"div\", {\n        className: \"mt-6 space-y-2\"\n      }, __jsx(\"button\", {\n        className: \"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm leading-5 font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none transition duration-150 ease-in-out\",\n        onClick: function onClick() {\n          _this2.setState({\n            formStage: 'CREATE_ROOM'\n          });\n        }\n      }, \"Create Room\"), __jsx(\"button\", {\n        className: \"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm leading-5 font-medium rounded-md text-indigo-600 bg-white hover:text-indigo-700 hover:border-indigo-700 focus:outline-none border-indigo-600 focus:shadow-outline-indigo active:bg-indigo-700 transition duration-150 ease-in-out\",\n        onClick: function onClick() {\n          _this2.setState({\n            formStage: 'JOIN_ROOM'\n          });\n        }\n      }, \"Join Room\"))))), !this.props.loginInfo.roomId && this.state.formStage && this.state.formStage === 'CREATE_ROOM' && __jsx(React.Fragment, null, __jsx(Formik, {\n        initialValues: {\n          roomName: '',\n          displayName: this.props.loginInfo.displayName,\n          env: process.env.NEXT_PUBLIC_SFU_ENV || 'prod-in',\n          role: 'Host',\n          isRecording: false\n        },\n        validate: function validate(values) {\n          var errors = {};\n\n          if (!values.displayName) {\n            errors.displayName = 'Required';\n          }\n\n          if (!values.roomName) {\n            errors.roomName = 'Required';\n          }\n\n          var validRoomPattern = /^[a-zA-Z0-9-.:_]*$/g;\n\n          if (!validRoomPattern.test(values.roomName)) {\n            errors.roomName = 'Accepted characters are a-z, A-Z, 0-9, . - : _';\n          }\n\n          if (showEnv && !values.env) {\n            errors.env = 'Required';\n          }\n\n          return errors;\n        },\n        onSubmit: function onSubmit(values) {\n          _this2.setState({\n            formValues: values\n          });\n\n          _this2.handleCreateSubmit(values);\n        }\n      }, function (_ref6) {\n        var errors = _ref6.errors,\n            touched = _ref6.touched,\n            initialValues = _ref6.initialValues;\n        return __jsx(Form, null, __jsx(\"div\", {\n          className: \" flex items-center justify-center w-full px-4 sm:px-6 lg:px-8\",\n          style: {\n            backgroundColor: '#1a1619',\n            minHeight: 'calc(100vh - 64px)'\n          }\n        }, __jsx(\"div\", {\n          className: \"overflow-hidden shadow rounded-lg max-w-sm w-full px-4 p-6 bg-gray-100\"\n        }, __jsx(\"div\", null, __jsx(\"h2\", {\n          className: \"text-center justify-center items-center text-3xl leading-9 font-extrabold text-gray-900 mb-2\"\n        }, initialValues && __jsx(React.Fragment, null, __jsx(ArrowLeftIcon, {\n          className: \"text-gray-700 hover:text-black\",\n          onClick: function onClick() {\n            _this2.setState({\n              formStage: 'ROOM'\n            });\n\n            _this2.props.setLoginInfo({\n              roomId: ''\n            });\n          }\n        }), \"100ms Conference\"))), __jsx(\"div\", {\n          className: \"rounded-m\"\n        }, __jsx(\"div\", null, __jsx(LoginTextField, {\n          label: \"Room Name\",\n          name: \"roomName\",\n          className: \"rounded-t-md\",\n          placeholder: \"Room Name\",\n          errors: errors.roomName,\n          touched: touched.roomName\n        })), __jsx(\"div\", {\n          className: \"-mt-px\"\n        }, initialValues && __jsx(LoginTextField, {\n          label: \"Username\",\n          name: \"displayName\",\n          className: !(initialValues && !initialValues.roomId) && 'rounded-t-md',\n          placeholder: \"Username\",\n          errors: errors.displayName,\n          touched: touched.displayName\n        })), __jsx(\"div\", {\n          className: \"-mt-px\"\n        }, initialValues ? showRoleSelect ? __jsx(LoginTextField, {\n          label: \"Role\",\n          name: \"role\",\n          as: showRoleSelect ? 'select' : null,\n          className: !showEnv && 'rounded-b-md',\n          placeholder: \"Role\",\n          disabled: _this2.props.loginInfo.role === ROLES.VIEWER,\n          errors: errors.role,\n          touched: touched.rol\n        }, __jsx(\"option\", {\n          value: \"\"\n        }, \"Select Role\"), Object.values(ROLES).map(function (role, index) {\n          return __jsx(\"option\", {\n            key: index,\n            value: role,\n            className: \"capitalize\"\n          }, role);\n        })) : __jsx(LoginTextField, {\n          label: \"Role\",\n          name: \"role\",\n          className: !showEnv && 'rounded-b-md',\n          placeholder: \"Role\",\n          disabled: _this2.props.loginInfo.role === ROLES.VIEWER,\n          errors: errors.role,\n          touched: touched.rol\n        }) : null), showEnv && __jsx(\"div\", {\n          className: \"-mt-px\"\n        }, initialValues && __jsx(LoginTextField, {\n          label: \"Environment\",\n          name: \"env\",\n          className: \"rounded-b-md\",\n          placeholder: \"Environment (qa-in/staging-in/prod-in)\",\n          errors: errors.env,\n          touched: touched.env\n        }))), __jsx(\"div\", {\n          className: \"mt-6\"\n        }, __jsx(\"label\", null, __jsx(Field, {\n          type: \"checkbox\",\n          name: \"isRecording\"\n        }), '  ', \" Record Room?\")), __jsx(\"div\", {\n          className: \"mt-6\"\n        }, __jsx(\"button\", {\n          type: \"submit\",\n          className: \"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm leading-5 font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-500 focus:outline-none focus:border-indigo-700 focus:shadow-outline-indigo active:bg-indigo-700 transition duration-150 ease-in-out\"\n        }, __jsx(\"span\", {\n          className: \"absolute left-0 inset-y-0 flex items-center pl-3\"\n        }), \"Create Room\")))));\n      })), this.state.formStage && this.state.formStage === 'JOIN_ROOM' && __jsx(React.Fragment, null, __jsx(Formik, {\n        initialValues: {\n          roomId: this.props.loginInfo.roomId ? this.props.loginInfo.roomId : '',\n          displayName: this.props.loginInfo.displayName,\n          env: this.props.loginInfo.env ? this.props.loginInfo.env : '',\n          role: this.props.loginInfo.role ? this.props.loginInfo.role : 'Guest'\n        },\n        validate: function validate(values) {\n          var errors = {};\n\n          if (!values.displayName) {\n            errors.displayName = 'Required';\n          }\n\n          if (!values.roomId) {\n            errors.roomId = 'Required';\n          }\n\n          if (showEnv && !values.env) {\n            errors.env = 'Required';\n          }\n\n          return errors;\n        },\n        onSubmit: function onSubmit(values) {\n          _this2.setState({\n            formValues: values\n          });\n\n          _this2.handleJoinSubmit(values);\n        }\n      }, function (_ref7) {\n        var errors = _ref7.errors,\n            touched = _ref7.touched,\n            initialValues = _ref7.initialValues;\n        return __jsx(Form, null, __jsx(\"div\", {\n          className: \" flex items-center justify-center w-full px-4 sm:px-6 lg:px-8\",\n          style: {\n            backgroundColor: '#0B0F15',\n            minHeight: 'calc(100vh - 64px)'\n          }\n        }, __jsx(\"div\", {\n          className: \"overflow-hidden shadow rounded-lg max-w-sm w-full px-4 p-6 bg-gray-100\"\n        }, __jsx(\"div\", null, __jsx(\"h2\", {\n          className: \"text-center text-3xl leading-9 font-extrabold text-gray-900 mb-2\"\n        }, initialValues && __jsx(React.Fragment, null, __jsx(ArrowLeftIcon, {\n          className: \"text-gray-700 hover:text-black\",\n          onClick: function onClick() {\n            _this2.setState({\n              formStage: 'ROOM'\n            });\n\n            _this2.props.setLoginInfo({\n              roomId: ''\n            });\n          }\n        }), \"100ms Conference\")), initialValues && initialValues.roomId && __jsx(\"p\", {\n          className: \"my-2 text-center text-sm leading-5 text-gray-600\"\n        }, \"You are about to join room:\", ' ', __jsx(\"span\", {\n          className: \"font-bold\"\n        }, initialValues.roomId))), __jsx(\"div\", {\n          className: \"rounded-md\"\n        }, __jsx(\"div\", null, initialValues && !initialValues.roomId && __jsx(LoginTextField, {\n          label: \"Room ID\",\n          name: \"roomId\",\n          className: \"rounded-t-md\",\n          placeholder: \"Room ID\",\n          errors: errors.roomId,\n          touched: touched.roomId\n        })), __jsx(\"div\", {\n          className: \"-mt-px\"\n        }, initialValues && __jsx(LoginTextField, {\n          label: \"Username\",\n          name: \"displayName\",\n          className: !(initialValues && !initialValues.roomId) && 'rounded-t-md',\n          placeholder: \"Username\",\n          errors: errors.displayName,\n          touched: touched.displayName\n        })), __jsx(\"div\", {\n          className: \"-mt-px\"\n        }, initialValues ? showRoleSelect ? __jsx(LoginTextField, {\n          label: \"Role\",\n          name: \"role\",\n          as: showRoleSelect ? 'select' : null,\n          className: !showEnv && 'rounded-b-md',\n          placeholder: \"Role\",\n          disabled: _this2.props.loginInfo.role === ROLES.VIEWER,\n          errors: errors.role,\n          touched: touched.rol\n        }, __jsx(\"option\", {\n          value: \"\"\n        }, \"Select Role\"), Object.values(ROLES).map(function (role, index) {\n          return __jsx(\"option\", {\n            key: index,\n            value: role,\n            className: \"capitalize\"\n          }, role);\n        })) : __jsx(LoginTextField, {\n          label: \"Role\",\n          name: \"role\",\n          className: !showEnv && 'rounded-b-md',\n          placeholder: \"Role\",\n          disabled: _this2.props.loginInfo.role === ROLES.VIEWER,\n          errors: errors.role,\n          touched: touched.rol\n        }) : null), showEnv && __jsx(\"div\", {\n          className: \"-mt-px\"\n        }, initialValues && __jsx(LoginTextField, {\n          label: \"Environment\",\n          name: \"env\",\n          className: \"rounded-b-md\",\n          placeholder: \"Environment (qa-in/staging-in/prod-in)\",\n          errors: errors.env,\n          touched: touched.env\n        }))), __jsx(\"div\", {\n          className: \"mt-6\"\n        }, __jsx(\"button\", {\n          type: \"submit\",\n          className: \"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm leading-5 font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-500 focus:outline-none focus:border-indigo-700 focus:shadow-outline-indigo active:bg-indigo-700 transition duration-150 ease-in-out\"\n        }, __jsx(\"span\", {\n          className: \"absolute left-0 inset-y-0 flex items-center pl-3\"\n        }), \"Join Room\")))));\n      })), this.state.formStage && this.state.formStage === 'PERMISSION' && __jsx(React.Fragment, null, __jsx(\"div\", {\n        className: \" flex items-center justify-center w-full px-4 sm:px-6 lg:px-8\",\n        style: {\n          backgroundColor: '#1a1619',\n          minHeight: 'calc(100vh - 64px)'\n        }\n      }, __jsx(\"div\", {\n        className: \"overflow-hidden shadow rounded-lg max-w-sm w-full px-4 py-5 p-6 bg-gray-100 my-3\"\n      }, __jsx(\"div\", {\n        className: \"\"\n      }, __jsx(\"h2\", {\n        className: \"mt-2 text-center text-3xl leading-9 font-extrabold text-gray-900\"\n      }, \"100ms Conference\"), __jsx(\"p\", {\n        className: \"mt-2 text-center text-sm leading-5 text-gray-600 mb-2\"\n      }, this.state.permissionText), __jsx(\"div\", {\n        className: \"mt-6\"\n      }, __jsx(\"button\", {\n        className: \"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm leading-5 font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-500 focus:outline-none focus:border-indigo-700 focus:shadow-outline-indigo active:bg-indigo-700 transition duration-150 ease-in-out\",\n        onClick: function onClick() {\n          _this2.startPreview(true);\n        }\n      }, __jsx(\"span\", {\n        className: \"absolute left-0 inset-y-0 flex items-center pl-3\"\n      }), \"Prompt permission dialog\")))))), this.state.formStage && this.state.formStage === 'PREVIEW' && __jsx(React.Fragment, null, __jsx(Formik, {\n        initialValues: {\n          selectedAudioDevice: this.props.settings ? this.props.settings.selectedAudioDevice : null,\n          selectedVideoDevice: this.props.settings ? this.props.settings.selectedVideoDevice : null // selectedAudioOutputDevice: this.state.settings\n          //   ? this.state.settings.selectedAudioOutputDevice\n          //   : null,\n\n        },\n        validate: function validate(values) {\n          var errors = {}; // if (!values.displayName) {\n          //   errors.displayName = 'Required';\n          // }\n          // if (!values.roomName){\n          //   errors.roomName = 'Required';\n          // }\n\n          return errors;\n        },\n        onSubmit: function onSubmit(values) {\n          if (window.stream) {\n            closeMediaStream(window.stream);\n          }\n\n          _this2.handleSubmit(values);\n        }\n      }, function (_ref8) {\n        var values = _ref8.values,\n            initialValues = _ref8.initialValues;\n        return __jsx(Form, null, __jsx(\"div\", {\n          className: \" flex items-center justify-center w-full px-4 sm:px-6 lg:px-8\",\n          style: {\n            backgroundColor: '#1a1619',\n            minHeight: 'calc(100vh - 64px)'\n          }\n        }, __jsx(\"div\", {\n          className: \"overflow-hidden shadow rounded-lg max-w-sm w-full px-4 py-5 p-6 bg-gray-100 my-3\"\n        }, __jsx(\"div\", {\n          className: \"\"\n        }, __jsx(\"h2\", {\n          className: \"mt-2 text-center text-3xl leading-9 font-extrabold text-gray-900\"\n        }, __jsx(React.Fragment, null, \"100ms Conference\")), __jsx(\"p\", {\n          className: \"mt-2 text-center text-sm leading-5 text-gray-600 mb-2\"\n        }, \"You are about to join\", ' ', __jsx(\"span\", {\n          className: \"font-semibold\"\n        }, _this2.state.formValues ? _this2.state.formValues.roomName : _this2.props.loginInfo.roomName), ' ', \"as\", ' ', __jsx(\"span\", {\n          className: \"font-semibold\"\n        }, _this2.state.formValues ? _this2.state.formValues.displayName : _this2.props.loginInfo.displayName), __jsx(\"button\", {\n          className: \"rounded-md px-2 py-1 hover:bg-indigo-500 ml-1 border transition duration-150 ease-in-out\",\n          onClick: function onClick() {\n            _this2.setState({\n              formStage: 'JOIN_ROOM'\n            });\n          }\n        }, \"Change\"))), __jsx(\"div\", {\n          className: \"mb-3\"\n        }, __jsx(\"div\", {\n          className: \"relative h-48 bg-black rounded-md mb-1\"\n        }, __jsx(\"video\", {\n          id: \"previewVideo\",\n          autoPlay: true,\n          playsInline: true,\n          muted: true,\n          className: \"rounded-md h-full w-full \".concat(!_this2.props.roomState.localVideoEnabled && 'hidden')\n        }), __jsx(\"div\", {\n          className: \"absolute bottom-0 w-full flex justify-center pb-1\"\n        }, __jsx(\"button\", {\n          onClick: function onClick(e) {\n            e.preventDefault();\n            var initialValue = _this2.props.roomState.localVideoEnabled;\n\n            _this2.props.setRoomState({\n              localVideoEnabled: !initialValue\n            });\n          },\n          className: \"py-1 px-2 border border-transparent text-sm leading-5 font-medium rounded-md text-white hover:bg-indigo-500 focus:outline-none focus:border-indigo-700 active:bg-indigo-700 transition duration-150 ease-in-out \".concat(_this2.props.roomState.localVideoEnabled ? 'bg-opacity-50 bg-gray-600' : 'bg-indigo-600')\n        }, _this2.props.roomState.localVideoEnabled && __jsx(\"svg\", {\n          className: \"w-6 h-6\",\n          fill: \"none\",\n          stroke: \"currentColor\",\n          viewBox: \"0 0 24 24\",\n          xmlns: \"http://www.w3.org/2000/svg\"\n        }, __jsx(\"path\", {\n          strokeLinecap: \"round\",\n          strokeLinejoin: \"round\",\n          strokeWidth: 2,\n          d: \"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z\"\n        })), !_this2.props.roomState.localVideoEnabled && __jsx(\"svg\", {\n          className: \"w-6 h-6\",\n          viewBox: \"0 0 24 24\",\n          fill: \"none\",\n          xmlns: \"http://www.w3.org/2000/svg\"\n        }, __jsx(\"path\", {\n          d: \"M15 10L19.553 7.724C19.7054 7.64784 19.8748 7.61188 20.045 7.61955C20.2152 7.62721 20.3806 7.67825 20.5256 7.76781C20.6706 7.85736 20.7902 7.98248 20.8733 8.13127C20.9563 8.28007 20.9999 8.44761 21 8.618V15.382C20.9999 15.5524 20.9563 15.7199 20.8733 15.8687C20.7902 16.0175 20.6706 16.1426 20.5256 16.2322C20.3806 16.3218 20.2152 16.3728 20.045 16.3805C19.8748 16.3881 19.7054 16.3522 19.553 16.276L15 14V10ZM5 18H13C13.5304 18 14.0391 17.7893 14.4142 17.4142C14.7893 17.0391 15 16.5304 15 16V8C15 7.46957 14.7893 6.96086 14.4142 6.58579C14.0391 6.21071 13.5304 6 13 6H5C4.46957 6 3.96086 6.21071 3.58579 6.58579C3.21071 6.96086 3 7.46957 3 8V16C3 16.5304 3.21071 17.0391 3.58579 17.4142C3.96086 17.7893 4.46957 18 5 18Z\",\n          stroke: \"currentColor\",\n          strokeWidth: \"2\",\n          strokeLinecap: \"round\",\n          strokeLinejoin: \"round\"\n        }), __jsx(\"line\", {\n          x1: \"2.00177\",\n          y1: \"19.7113\",\n          x2: \"16.1289\",\n          y2: \"4.10676\",\n          stroke: \"currentColor\",\n          strokeWidth: \"2\",\n          strokeLinecap: \"round\",\n          strokeLinejoin: \"round\"\n        }))), __jsx(\"button\", {\n          onClick: function onClick(e) {\n            e.preventDefault();\n            var initialValue = _this2.props.roomState.localAudioEnabled;\n\n            _this2.props.setRoomState({\n              localAudioEnabled: !initialValue\n            });\n          },\n          className: \"ml-1 py-1 px-2 border border-transparent text-sm leading-5 font-medium rounded-md text-white hover:bg-indigo-500 focus:outline-none focus:border-indigo-700 focus:shadow-outline-indigo active:bg-indigo-700 transition duration-150 ease-in-out \".concat(_this2.props.roomState.localAudioEnabled ? 'bg-opacity-50 bg-gray-600' : 'bg-indigo-600')\n        }, _this2.props.roomState.localAudioEnabled && __jsx(\"svg\", {\n          className: \"w-6 h-6\",\n          fill: \"none\",\n          stroke: \"currentColor\",\n          viewBox: \"0 0 24 24\",\n          xmlns: \"http://www.w3.org/2000/svg\"\n        }, __jsx(\"path\", {\n          strokeLinecap: \"round\",\n          strokeLinejoin: \"round\",\n          strokeWidth: \"2\",\n          d: \"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z\"\n        })), !_this2.props.roomState.localAudioEnabled && __jsx(\"svg\", {\n          className: \"h-6 w-6\",\n          viewBox: \"0 0 24 24\",\n          fill: \"none\",\n          xmlns: \"http://www.w3.org/2000/svg\"\n        }, __jsx(\"path\", {\n          d: \"M19 11C19 12.8565 18.2625 14.637 16.9497 15.9497C15.637 17.2625 13.8565 18 12 18M12 18C10.1435 18 8.36301 17.2625 7.05025 15.9497C5.7375 14.637 5 12.8565 5 11M12 18V22M12 22H8M12 22H16M12 14C11.2044 14 10.4413 13.6839 9.87868 13.1213C9.31607 12.5587 9 11.7956 9 11V5C9 4.20435 9.31607 3.44129 9.87868 2.87868C10.4413 2.31607 11.2044 2 12 2C12.7956 2 13.5587 2.31607 14.1213 2.87868C14.6839 3.44129 15 4.20435 15 5V11C15 11.7956 14.6839 12.5587 14.1213 13.1213C13.5587 13.6839 12.7956 14 12 14Z\",\n          stroke: \"currentColor\",\n          strokeWidth: \"2\",\n          strokeLinecap: \"round\",\n          strokeLinejoin: \"round\"\n        }), __jsx(\"line\", {\n          x1: \"4.43121\",\n          y1: \"18.0549\",\n          x2: \"18.5583\",\n          y2: \"2.45033\",\n          stroke: \"currentColor\",\n          strokeWidth: \"2\",\n          strokeLinecap: \"round\",\n          strokeLinejoin: \"round\"\n        }))))), _this2.props.roomState.localAudioEnabled && __jsx(\"div\", {\n          className: \"px-1\"\n        }, __jsx(\"div\", {\n          style: {\n            width: !_this2.props.roomState.localAudioEnabled ? '1px' : _this2.state.audioLevel + 'px',\n            height: '4px',\n            backgroundColor: '#8dc63f'\n          }\n        }))), __jsx(\"div\", {\n          className: \"rounded-md shadow-sm\"\n        }, __jsx(\"div\", null, initialValues && __jsx(Field, {\n          label: \"Audio Input\",\n          name: \"selectedAudioDevice\",\n          className: \"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:shadow-outline-blue focus:border-blue-300 focus:z-10 sm:text-sm sm:leading-5\",\n          placeholder: \"Audio Input\",\n          component: SingleSelect,\n          options: _this2.state.audioDevices,\n          updateDevice: _this2.updateDevice\n        })), __jsx(\"div\", {\n          className: \"-mt-px\"\n        }, initialValues && __jsx(Field, {\n          label: \"Video Input\",\n          name: \"selectedVideoDevice\",\n          className: \"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:shadow-outline-blue focus:border-blue-300 focus:z-10 sm:text-sm sm:leading-5\",\n          placeholder: \"Video Input\",\n          component: SingleSelect,\n          options: _this2.state.videoDevices,\n          updateDevice: _this2.updateDevice\n        }))), __jsx(\"div\", {\n          className: \"mt-0\"\n        }, __jsx(\"button\", {\n          type: \"submit\",\n          className: \"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm leading-5 font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-500 focus:outline-none focus:border-indigo-700 focus:shadow-outline-indigo active:bg-indigo-700 transition duration-150 ease-in-out\"\n        }, __jsx(\"span\", {\n          className: \"absolute left-0 inset-y-0 flex items-center pl-3\"\n        }), \"Join\")))));\n      }))), !this.state.isSupported && __jsx(React.Fragment, null, __jsx(\"div\", {\n        className: \" flex items-center justify-center w-full px-4 sm:px-6 lg:px-8\",\n        style: {\n          backgroundColor: '#1a1619',\n          minHeight: 'calc(100vh - 64px)'\n        }\n      }, __jsx(\"div\", {\n        className: \"overflow-hidden shadow rounded-lg max-w-sm w-full px-4 py-5 p-6 bg-gray-100 my-3\"\n      }, __jsx(\"div\", {\n        className: \"\"\n      }, __jsx(\"h2\", {\n        className: \"mt-2 text-center text-3xl leading-9 font-extrabold text-gray-900\"\n      }, \"100ms Conference\"), __jsx(\"p\", {\n        className: \"mt-2 text-center text-sm leading-5 text-gray-600 mb-2\"\n      }, deviceSupport().failureCause == 'iOS' ? __jsx(\"span\", null, \"100ms users might face issues on iOS devices. Please open the link on another device for the best experience. If you wish to continue on iOS, click continue.\") : __jsx(\"span\", null, \"We recommend using Google Chrome for the best experience.\")), __jsx(\"div\", {\n        className: \"mt-6\"\n      }, deviceSupport().failureCause == 'browser' && __jsx(\"a\", {\n        className: \"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm leading-5 font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 hover:text-white focus:outline-none focus:border-indigo-700 focus:shadow-outline-indigo active:bg-indigo-700 transition duration-150 ease-in-out\",\n        href: \"https://www.google.com/chrome/\",\n        target: \"_blank\"\n      }, \"Download Google Chrome\"), __jsx(\"button\", {\n        className: \"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm leading-5 font-medium rounded-md text-indigo-600 bg-white hover:text-indigo-700 hover:border-indigo-700 focus:outline-none border-indigo-600 focus:shadow-outline-indigo active:bg-indigo-700 transition duration-150 ease-in-out mt-3\",\n        onClick: function onClick() {\n          return _this2.setState({\n            isSupported: true\n          });\n        }\n      }, \"Continue in current browser\")))))));\n    }\n  }]);\n\n  return LoginForm;\n}(React.Component);\n\nfunction objToStrMap(obj) {\n  var strMap = new Map();\n\n  for (var _i = 0, _Object$keys = Object.keys(obj); _i < _Object$keys.length; _i++) {\n    var k = _Object$keys[_i];\n    strMap.set(k, obj[k]);\n  }\n\n  return strMap;\n}\n\nvar WrappedLoginForm = LoginForm; //const WrappedLoginForm = Form.create({ name: \"login\" })(LoginForm);\n\nexport default WrappedLoginForm;","map":null,"metadata":{},"sourceType":"module"}